[tox]
envlist = py27, py33, py34, py35, py36, pypy, jython, pylint
skip_missing_interpreters = true

[testenv:pylint]
deps =
   git+https://github.com/PyCQA/astroid@master
   isort

commands = pylint -rn --rcfile={toxinidir}/pylintrc --load-plugins=pylint.extensions.docparams, pylint.extensions.mccabe {envsitepackagesdir}/pylint

[testenv]
deps =
   git+https://github.com/PyCQA/astroid@master
   coverage
   isort
   mccabe

setenv =
    COVERAGE_FILE = {envdir}/.coverage

commands =
    python -Wi {envsitepackagesdir}/coverage run -m unittest discover -s {envsitepackagesdir}/pylint/test/ -p {posargs:*test_*}.py

changedir = {toxworkdir}
