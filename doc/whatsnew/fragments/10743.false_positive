Fix possibly-used-before-assignment false positive when using self.fail() in tests.

Closes #10743
