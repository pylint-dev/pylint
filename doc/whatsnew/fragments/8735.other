Fix a crash when a ``nonlocal`` is defined at module-level.

Closes #8735
