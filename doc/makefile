MKHTML=mkdoc
MKHTML_OPT=--doctype article --param toc.section.depth=1 --target html --stylesheet standard 

SRC=.


all: manual.html quickstart.html features.html FAQ.html beginner_pylint_tutorial.html examples man

FAQ.html: ${SRC}/FAQ.txt
	${MKHTML} ${MKHTML_OPT} ${SRC}/FAQ.txt

quickstart.html: ${SRC}/quickstart.txt
	${MKHTML} ${MKHTML_OPT} ${SRC}/quickstart.txt

manual.html: ${SRC}/manual.txt ${SRC}/FAQ.txt
	${MKHTML} ${MKHTML_OPT} ${SRC}/manual.txt

beginner_pylint_tutorial.html: ${SRC}/beginner_pylint_tutorial.txt
	${MKHTML} ${MKHTML_OPT} ${SRC}/beginner_pylint_tutorial.txt

features.html:
	chmod u+w ${SRC}/features.txt
	echo "PyLint features" > ${SRC}/features.txt
	echo "===============" >> ${SRC}/features.txt
	echo "" >> ${SRC}/features.txt
	echo ".. generated by pylint --list-msgs" >> ${SRC}/features.txt
	echo "" >> ${SRC}/features.txt
	echo ".. contents::" >> ${SRC}/features.txt
	echo "" >> ${SRC}/features.txt
	pylint --list-msgs >> ${SRC}/features.txt
	${MKHTML} ${MKHTML_OPT} ${SRC}/features.txt

examples:
	chmod u+w ../examples/pylintrc
	pylint --generate-rcfile > ../examples/pylintrc

man:
	chmod u+w ../man/pylint.1
	pylint --generate-man > ../man/pylint.1

clean:
	rm -f *.html

.PHONY: features.html
